<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="918px" preserveAspectRatio="none" style="width:1267px;height:918px;background:#FFFFFF;" version="1.1" viewBox="0 0 1267 918" width="1267px" zoomAndPan="magnify"><defs/><g><!--cluster communicationGateway--><g id="cluster_communicationGateway"><path d="M8.5,6.0137 L180.5,6.0137 A3.75,3.75 0 0 1 183,8.5137 L190,30.6348 L1257.5,30.6348 A2.5,2.5 0 0 1 1260,33.1348 L1260,908.5137 A2.5,2.5 0 0 1 1257.5,911.0137 L8.5,911.0137 A2.5,2.5 0 0 1 6,908.5137 L6,8.5137 A2.5,2.5 0 0 1 8.5,6.0137 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="190" y1="30.6348" y2="30.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="171" x="10" y="23.1211">Communication Gateway</text></g><!--class HashHelper--><g id="elem_HashHelper"><rect codeLine="8" fill="#F1F1F1" height="66.6211" id="HashHelper" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="460" x="214" y="828.0137"/><ellipse cx="403.25" cy="844.0137" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M406.0156,839.8887 Q406.1719,839.6699 406.3594,839.5605 Q406.5469,839.4512 406.7656,839.4512 Q407.1406,839.4512 407.375,839.7168 Q407.6094,839.9668 407.6094,840.5762 L407.6094,842.0293 Q407.6094,842.6387 407.375,842.9043 Q407.1406,843.1699 406.7656,843.1699 Q406.4219,843.1699 406.2188,842.9668 Q406.0156,842.7793 405.9063,842.2637 Q405.8594,841.9043 405.6719,841.7168 Q405.3438,841.3418 404.7344,841.123 Q404.125,840.9043 403.5,840.9043 Q402.7344,840.9043 402.0938,841.2324 Q401.4688,841.5605 400.9688,842.3105 Q400.4844,843.0605 400.4844,844.0918 L400.4844,845.1855 Q400.4844,846.4199 401.375,847.248 Q402.2656,848.0605 403.8594,848.0605 Q404.7969,848.0605 405.4531,847.8105 Q405.8438,847.6543 406.2656,847.2168 Q406.5313,846.9512 406.6719,846.873 Q406.8281,846.7949 407.0313,846.7949 Q407.3594,846.7949 407.6094,847.0605 Q407.875,847.3105 407.875,847.6543 Q407.875,847.998 407.5313,848.4043 Q407.0313,848.9824 406.2344,849.3105 Q405.1563,849.7637 403.8594,849.7637 Q402.3438,849.7637 401.1406,849.1387 Q400.1563,848.6387 399.4688,847.5762 Q398.7813,846.498 398.7813,845.2168 L398.7813,844.0605 Q398.7813,842.7324 399.3906,841.5918 Q400.0156,840.4355 401.1094,839.8262 Q402.2031,839.2012 403.4375,839.2012 Q404.1719,839.2012 404.8125,839.373 Q405.4688,839.5293 406.0156,839.8887 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="423.75" y="849.8105">HashHelper</text><line style="stroke:#181818;stroke-width:0.5;" x1="215" x2="673" y1="860.0137" y2="860.0137"/><line style="stroke:#181818;stroke-width:0.5;" x1="215" x2="673" y1="868.0137" y2="868.0137"/><ellipse cx="225" cy="882.8242" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="434" x="234" y="887.1211">String messageHash(String workflowRunId, String messageContents)</text></g><!--class GatewayService--><g id="elem_GatewayService"><rect codeLine="13" fill="#F1F1F1" height="66.6211" id="GatewayService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="764" x="480" y="536.0137"/><ellipse cx="760.75" cy="552.0137" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M761.7031,548.6543 L761.7031,555.3105 L763.4219,555.3105 Q764.0313,555.3105 764.2969,555.5449 Q764.5625,555.7793 764.5625,556.1699 Q764.5625,556.5449 764.2969,556.7793 Q764.0313,557.0137 763.4219,557.0137 L758.2813,557.0137 Q757.6719,557.0137 757.4063,556.7793 Q757.1406,556.5449 757.1406,556.1543 Q757.1406,555.7793 757.4063,555.5449 Q757.6719,555.3105 758.2813,555.3105 L760,555.3105 L760,548.6543 L758.2813,548.6543 Q757.6719,548.6543 757.4063,548.4199 Q757.1406,548.1855 757.1406,547.7949 Q757.1406,547.4199 757.4063,547.1855 Q757.6719,546.9512 758.2813,546.9512 L763.4219,546.9512 Q764.0313,546.9512 764.2969,547.1855 Q764.5625,547.4199 764.5625,547.7949 Q764.5625,548.1855 764.2969,548.4199 Q764.0313,548.6543 763.4219,548.6543 L761.7031,548.6543 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="101" x="781.25" y="557.8105">GatewayService</text><rect fill="#FFFFFF" height="17.9609" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="91" x="1156" y="533.0137"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="89" x="1157" y="546.9629">TUser, TContent</text><line style="stroke:#181818;stroke-width:0.5;" x1="481" x2="1243" y1="568.0137" y2="568.0137"/><line style="stroke:#181818;stroke-width:0.5;" x1="481" x2="1243" y1="576.0137" y2="576.0137"/><ellipse cx="491" cy="590.8242" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="738" x="500" y="595.1211">ResponseEntity&lt;GatewayResponse&gt; sendCommunication(GatewayProperties&lt;TUser, TContent&gt; gatewayProperties)</text></g><!--class CommunicationGatewayService--><g id="elem_CommunicationGatewayService"><rect codeLine="17" fill="#F1F1F1" height="66.6211" id="CommunicationGatewayService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="634" x="127" y="682.0137"/><ellipse cx="247.75" cy="698.0137" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M250.5156,693.8887 Q250.6719,693.6699 250.8594,693.5605 Q251.0469,693.4512 251.2656,693.4512 Q251.6406,693.4512 251.875,693.7168 Q252.1094,693.9668 252.1094,694.5762 L252.1094,696.0293 Q252.1094,696.6387 251.875,696.9043 Q251.6406,697.1699 251.2656,697.1699 Q250.9219,697.1699 250.7188,696.9668 Q250.5156,696.7793 250.4063,696.2637 Q250.3594,695.9043 250.1719,695.7168 Q249.8438,695.3418 249.2344,695.123 Q248.625,694.9043 248,694.9043 Q247.2344,694.9043 246.5938,695.2324 Q245.9688,695.5605 245.4688,696.3105 Q244.9844,697.0605 244.9844,698.0918 L244.9844,699.1855 Q244.9844,700.4199 245.875,701.248 Q246.7656,702.0605 248.3594,702.0605 Q249.2969,702.0605 249.9531,701.8105 Q250.3438,701.6543 250.7656,701.2168 Q251.0313,700.9512 251.1719,700.873 Q251.3281,700.7949 251.5313,700.7949 Q251.8594,700.7949 252.1094,701.0605 Q252.375,701.3105 252.375,701.6543 Q252.375,701.998 252.0313,702.4043 Q251.5313,702.9824 250.7344,703.3105 Q249.6563,703.7637 248.3594,703.7637 Q246.8438,703.7637 245.6406,703.1387 Q244.6563,702.6387 243.9688,701.5762 Q243.2813,700.498 243.2813,699.2168 L243.2813,698.0605 Q243.2813,696.7324 243.8906,695.5918 Q244.5156,694.4355 245.6094,693.8262 Q246.7031,693.2012 247.9375,693.2012 Q248.6719,693.2012 249.3125,693.373 Q249.9688,693.5293 250.5156,693.8887 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="268.25" y="703.8105">CommunicationGatewayService</text><rect fill="#FFFFFF" height="17.9609" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="183" x="581" y="679.0137"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="181" x="582" y="692.9629">TUser, TContent extends Content</text><line style="stroke:#181818;stroke-width:0.5;" x1="128" x2="760" y1="714.0137" y2="714.0137"/><line style="stroke:#181818;stroke-width:0.5;" x1="128" x2="760" y1="722.0137" y2="722.0137"/><ellipse cx="138" cy="736.8242" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="608" x="147" y="741.1211">ResponseEntity sendCommunication(GatewayProperties&lt;TUser, TContent&gt; gatewayProperties))</text></g><!--class GetUserAndContent--><g id="elem_GetUserAndContent"><rect codeLine="21" fill="#F1F1F1" height="85.2422" id="GetUserAndContent" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="253" x="932.5" y="43.0137"/><ellipse cx="947.5" cy="59.0137" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M949.6875,60.7793 L945.5469,60.7793 L945.125,61.8105 L945.5469,61.8105 Q946.1563,61.8105 946.4219,62.0449 Q946.6875,62.2793 946.6875,62.6699 Q946.6875,63.0449 946.4219,63.2793 Q946.1563,63.5137 945.5469,63.5137 L943.25,63.5137 Q942.6406,63.5137 942.3906,63.2793 Q942.125,63.0449 942.125,62.6543 Q942.125,62.2793 942.4063,62.0449 Q942.6719,61.7949 943.2969,61.8105 L945.9688,55.1543 L944.8594,55.1543 Q944.25,55.1543 943.9844,54.9199 Q943.7188,54.6855 943.7188,54.2949 Q943.7188,53.9199 943.9844,53.6855 Q944.25,53.4512 944.8594,53.4512 L948.5313,53.4512 L951.9219,61.8105 Q952.5156,61.8105 952.7031,61.9512 Q953.0938,62.2168 953.0938,62.6699 Q953.0938,63.0449 952.8281,63.2793 Q952.5781,63.5137 951.9688,63.5137 L949.6719,63.5137 Q949.0625,63.5137 948.7969,63.2793 Q948.5313,63.0449 948.5313,62.6543 Q948.5313,62.2793 948.7969,62.0449 Q949.0625,61.8105 949.6719,61.8105 L950.0938,61.8105 L949.6875,60.7793 Z M948.9688,59.0762 L947.6094,55.7012 L946.2344,59.0762 L948.9688,59.0762 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="128" x="961.5" y="64.8105">GetUserAndContent</text><rect fill="#FFFFFF" height="17.9609" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="91" x="1097.5" y="40.0137"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="89" x="1098.5" y="53.9629">TUser, TContent</text><line style="stroke:#181818;stroke-width:0.5;" x1="933.5" x2="1184.5" y1="75.0137" y2="75.0137"/><line style="stroke:#181818;stroke-width:0.5;" x1="933.5" x2="1184.5" y1="83.0137" y2="83.0137"/><polygon fill="#FFFF44" points="943.5,92.8242,947.5,96.8242,943.5,100.8242,939.5,96.8242" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181" x="952.5" y="102.1211">TUser getUser(String userId)</text><polygon fill="#FFFF44" points="943.5,111.4453,947.5,115.4453,943.5,119.4453,939.5,115.4453" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="223" x="952.5" y="120.7422">TContent getContent(String userId)</text></g><!--class Content--><g id="elem_Content"><rect codeLine="26" fill="#F1F1F1" height="66.6211" id="Content" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="184" x="713" y="52.0137"/><ellipse cx="775.75" cy="68.0137" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M776.7031,64.6543 L776.7031,71.3105 L778.4219,71.3105 Q779.0313,71.3105 779.2969,71.5449 Q779.5625,71.7793 779.5625,72.1699 Q779.5625,72.5449 779.2969,72.7793 Q779.0313,73.0137 778.4219,73.0137 L773.2813,73.0137 Q772.6719,73.0137 772.4063,72.7793 Q772.1406,72.5449 772.1406,72.1543 Q772.1406,71.7793 772.4063,71.5449 Q772.6719,71.3105 773.2813,71.3105 L775,71.3105 L775,64.6543 L773.2813,64.6543 Q772.6719,64.6543 772.4063,64.4199 Q772.1406,64.1855 772.1406,63.7949 Q772.1406,63.4199 772.4063,63.1855 Q772.6719,62.9512 773.2813,62.9512 L778.4219,62.9512 Q779.0313,62.9512 779.2969,63.1855 Q779.5625,63.4199 779.5625,63.7949 Q779.5625,64.1855 779.2969,64.4199 Q779.0313,64.6543 778.4219,64.6543 L776.7031,64.6543 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="50" x="796.25" y="73.8105">Content</text><line style="stroke:#181818;stroke-width:0.5;" x1="714" x2="896" y1="84.0137" y2="84.0137"/><line style="stroke:#181818;stroke-width:0.5;" x1="714" x2="896" y1="92.0137" y2="92.0137"/><ellipse cx="724" cy="106.8242" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="733" y="111.1211">String getContentString()</text></g><!--class UserAndContent--><g id="elem_UserAndContent"><rect codeLine="30" fill="#F1F1F1" height="85.2422" id="UserAndContent" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="321" x="535.5" y="372.0137"/><ellipse cx="550.5" cy="388.0137" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M553.2656,383.8887 Q553.4219,383.6699 553.6094,383.5605 Q553.7969,383.4512 554.0156,383.4512 Q554.3906,383.4512 554.625,383.7168 Q554.8594,383.9668 554.8594,384.5762 L554.8594,386.0293 Q554.8594,386.6387 554.625,386.9043 Q554.3906,387.1699 554.0156,387.1699 Q553.6719,387.1699 553.4688,386.9668 Q553.2656,386.7793 553.1563,386.2637 Q553.1094,385.9043 552.9219,385.7168 Q552.5938,385.3418 551.9844,385.123 Q551.375,384.9043 550.75,384.9043 Q549.9844,384.9043 549.3438,385.2324 Q548.7188,385.5605 548.2188,386.3105 Q547.7344,387.0605 547.7344,388.0918 L547.7344,389.1855 Q547.7344,390.4199 548.625,391.248 Q549.5156,392.0605 551.1094,392.0605 Q552.0469,392.0605 552.7031,391.8105 Q553.0938,391.6543 553.5156,391.2168 Q553.7813,390.9512 553.9219,390.873 Q554.0781,390.7949 554.2813,390.7949 Q554.6094,390.7949 554.8594,391.0605 Q555.125,391.3105 555.125,391.6543 Q555.125,391.998 554.7813,392.4043 Q554.2813,392.9824 553.4844,393.3105 Q552.4063,393.7637 551.1094,393.7637 Q549.5938,393.7637 548.3906,393.1387 Q547.4063,392.6387 546.7188,391.5762 Q546.0313,390.498 546.0313,389.2168 L546.0313,388.0605 Q546.0313,386.7324 546.6406,385.5918 Q547.2656,384.4355 548.3594,383.8262 Q549.4531,383.2012 550.6875,383.2012 Q551.4219,383.2012 552.0625,383.373 Q552.7188,383.5293 553.2656,383.8887 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="564.5" y="393.8105">UserAndContent</text><rect fill="#FFFFFF" height="17.9609" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="183" x="676.5" y="369.0137"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="181" x="677.5" y="382.9629">TUser, TContent extends Content</text><line style="stroke:#181818;stroke-width:0.5;" x1="536.5" x2="855.5" y1="404.0137" y2="404.0137"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="543.5" y="415.8242"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="555.5" y="423.1211">TUser user</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="543.5" y="434.4453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="555.5" y="441.7422">TContent content</text><line style="stroke:#181818;stroke-width:0.5;" x1="536.5" x2="855.5" y1="449.2559" y2="449.2559"/></g><!--class UserContentService--><g id="elem_UserContentService"><rect codeLine="35" fill="#F1F1F1" height="66.6211" id="UserContentService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="469" x="208.5" y="52.0137"/><ellipse cx="283.25" cy="68.0137" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M284.2031,64.6543 L284.2031,71.3105 L285.9219,71.3105 Q286.5313,71.3105 286.7969,71.5449 Q287.0625,71.7793 287.0625,72.1699 Q287.0625,72.5449 286.7969,72.7793 Q286.5313,73.0137 285.9219,73.0137 L280.7813,73.0137 Q280.1719,73.0137 279.9063,72.7793 Q279.6406,72.5449 279.6406,72.1543 Q279.6406,71.7793 279.9063,71.5449 Q280.1719,71.3105 280.7813,71.3105 L282.5,71.3105 L282.5,64.6543 L280.7813,64.6543 Q280.1719,64.6543 279.9063,64.4199 Q279.6406,64.1855 279.6406,63.7949 Q279.6406,63.4199 279.9063,63.1855 Q280.1719,62.9512 280.7813,62.9512 L285.9219,62.9512 Q286.5313,62.9512 286.7969,63.1855 Q287.0625,63.4199 287.0625,63.7949 Q287.0625,64.1855 286.7969,64.4199 Q286.5313,64.6543 285.9219,64.6543 L284.2031,64.6543 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="126" x="303.75" y="73.8105">UserContentService</text><rect fill="#FFFFFF" height="17.9609" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="183" x="497.5" y="49.0137"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="181" x="498.5" y="62.9629">TUser, TContent extends Content</text><line style="stroke:#181818;stroke-width:0.5;" x1="209.5" x2="676.5" y1="84.0137" y2="84.0137"/><line style="stroke:#181818;stroke-width:0.5;" x1="209.5" x2="676.5" y1="92.0137" y2="92.0137"/><ellipse cx="219.5" cy="106.8242" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="443" x="228.5" y="111.1211">UserAndContent&lt;TUser, TContent&gt; getUserAndContent(String userId)</text></g><!--class EmailUserContentService--><g id="elem_EmailUserContentService"><rect codeLine="39" fill="#F1F1F1" height="103.8633" id="EmailUserContentService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="519" x="436.5" y="189.0137"/><ellipse cx="540.25" cy="205.0137" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M543.0156,200.8887 Q543.1719,200.6699 543.3594,200.5605 Q543.5469,200.4512 543.7656,200.4512 Q544.1406,200.4512 544.375,200.7168 Q544.6094,200.9668 544.6094,201.5762 L544.6094,203.0293 Q544.6094,203.6387 544.375,203.9043 Q544.1406,204.1699 543.7656,204.1699 Q543.4219,204.1699 543.2188,203.9668 Q543.0156,203.7793 542.9063,203.2637 Q542.8594,202.9043 542.6719,202.7168 Q542.3438,202.3418 541.7344,202.123 Q541.125,201.9043 540.5,201.9043 Q539.7344,201.9043 539.0938,202.2324 Q538.4688,202.5605 537.9688,203.3105 Q537.4844,204.0605 537.4844,205.0918 L537.4844,206.1855 Q537.4844,207.4199 538.375,208.248 Q539.2656,209.0605 540.8594,209.0605 Q541.7969,209.0605 542.4531,208.8105 Q542.8438,208.6543 543.2656,208.2168 Q543.5313,207.9512 543.6719,207.873 Q543.8281,207.7949 544.0313,207.7949 Q544.3594,207.7949 544.6094,208.0605 Q544.875,208.3105 544.875,208.6543 Q544.875,208.998 544.5313,209.4043 Q544.0313,209.9824 543.2344,210.3105 Q542.1563,210.7637 540.8594,210.7637 Q539.3438,210.7637 538.1406,210.1387 Q537.1563,209.6387 536.4688,208.5762 Q535.7813,207.498 535.7813,206.2168 L535.7813,205.0605 Q535.7813,203.7324 536.3906,202.5918 Q537.0156,201.4355 538.1094,200.8262 Q539.2031,200.2012 540.4375,200.2012 Q541.1719,200.2012 541.8125,200.373 Q542.4688,200.5293 543.0156,200.8887 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="560.75" y="210.8105">EmailUserContentService</text><rect fill="#FFFFFF" height="17.9609" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="141" x="817.5" y="186.0137"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="139" x="818.5" y="199.9629">EmailUser, EmailContent</text><line style="stroke:#181818;stroke-width:0.5;" x1="437.5" x2="954.5" y1="221.0137" y2="221.0137"/><line style="stroke:#181818;stroke-width:0.5;" x1="437.5" x2="954.5" y1="229.0137" y2="229.0137"/><ellipse cx="447.5" cy="243.8242" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="493" x="456.5" y="248.1211">UserAndContent&lt;EmailUser, EmailContent&gt; getUserAndContent(String userId)</text><ellipse cx="447.5" cy="262.4453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="456.5" y="266.7422">EmailUser getUser(String userId)</text><ellipse cx="447.5" cy="281.0664" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="248" x="456.5" y="285.3633">EmailContent getContent(String userId)</text></g><!--class ContentDeliveryService--><g id="elem_ContentDeliveryService"><rect codeLine="45" fill="#F1F1F1" height="66.6211" id="ContentDeliveryService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="335" x="47.5" y="381.0137"/><ellipse cx="91.3" cy="397.0137" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M92.2531,393.6543 L92.2531,400.3105 L93.9719,400.3105 Q94.5813,400.3105 94.8469,400.5449 Q95.1125,400.7793 95.1125,401.1699 Q95.1125,401.5449 94.8469,401.7793 Q94.5813,402.0137 93.9719,402.0137 L88.8313,402.0137 Q88.2219,402.0137 87.9563,401.7793 Q87.6906,401.5449 87.6906,401.1543 Q87.6906,400.7793 87.9563,400.5449 Q88.2219,400.3105 88.8313,400.3105 L90.55,400.3105 L90.55,393.6543 L88.8313,393.6543 Q88.2219,393.6543 87.9563,393.4199 Q87.6906,393.1855 87.6906,392.7949 Q87.6906,392.4199 87.9563,392.1855 Q88.2219,391.9512 88.8313,391.9512 L93.9719,391.9512 Q94.5813,391.9512 94.8469,392.1855 Q95.1125,392.4199 95.1125,392.7949 Q95.1125,393.1855 94.8469,393.4199 Q94.5813,393.6543 93.9719,393.6543 L92.2531,393.6543 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="146" x="111.7" y="402.8105">ContentDeliveryService</text><rect fill="#FFFFFF" height="17.9609" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="91" x="294.5" y="378.0137"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="89" x="295.5" y="391.9629">TUser, TContent</text><line style="stroke:#181818;stroke-width:0.5;" x1="48.5" x2="381.5" y1="413.0137" y2="413.0137"/><line style="stroke:#181818;stroke-width:0.5;" x1="48.5" x2="381.5" y1="421.0137" y2="421.0137"/><ellipse cx="58.5" cy="435.8242" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="309" x="67.5" y="440.1211">void sendContent(TUser user, TContent content)</text></g><!--class EmailContentDeliveryService--><g id="elem_EmailContentDeliveryService"><rect codeLine="49" fill="#F1F1F1" height="66.6211" id="EmailContentDeliveryService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="385" x="22.5" y="536.0137"/><ellipse cx="50.1" cy="552.0137" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M52.8656,547.8887 Q53.0219,547.6699 53.2094,547.5605 Q53.3969,547.4512 53.6156,547.4512 Q53.9906,547.4512 54.225,547.7168 Q54.4594,547.9668 54.4594,548.5762 L54.4594,550.0293 Q54.4594,550.6387 54.225,550.9043 Q53.9906,551.1699 53.6156,551.1699 Q53.2719,551.1699 53.0688,550.9668 Q52.8656,550.7793 52.7563,550.2637 Q52.7094,549.9043 52.5219,549.7168 Q52.1938,549.3418 51.5844,549.123 Q50.975,548.9043 50.35,548.9043 Q49.5844,548.9043 48.9438,549.2324 Q48.3188,549.5605 47.8188,550.3105 Q47.3344,551.0605 47.3344,552.0918 L47.3344,553.1855 Q47.3344,554.4199 48.225,555.248 Q49.1156,556.0605 50.7094,556.0605 Q51.6469,556.0605 52.3031,555.8105 Q52.6938,555.6543 53.1156,555.2168 Q53.3813,554.9512 53.5219,554.873 Q53.6781,554.7949 53.8813,554.7949 Q54.2094,554.7949 54.4594,555.0605 Q54.725,555.3105 54.725,555.6543 Q54.725,555.998 54.3813,556.4043 Q53.8813,556.9824 53.0844,557.3105 Q52.0063,557.7637 50.7094,557.7637 Q49.1938,557.7637 47.9906,557.1387 Q47.0063,556.6387 46.3188,555.5762 Q45.6313,554.498 45.6313,553.2168 L45.6313,552.0605 Q45.6313,550.7324 46.2406,549.5918 Q46.8656,548.4355 47.9594,547.8262 Q49.0531,547.2012 50.2875,547.2012 Q51.0219,547.2012 51.6625,547.373 Q52.3188,547.5293 52.8656,547.8887 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182" x="66.9" y="557.8105">EmailContentDeliveryService</text><rect fill="#FFFFFF" height="17.9609" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="141" x="269.5" y="533.0137"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="139" x="270.5" y="546.9629">EmailUser, EmailContent</text><line style="stroke:#181818;stroke-width:0.5;" x1="23.5" x2="406.5" y1="568.0137" y2="568.0137"/><line style="stroke:#181818;stroke-width:0.5;" x1="23.5" x2="406.5" y1="576.0137" y2="576.0137"/><ellipse cx="33.5" cy="590.8242" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="359" x="42.5" y="595.1211">void sendContent(EmailUser user, EmailContent content)</text></g><g id="elem_GMN18"><path d="M22.5,210.0137 L22.5,271.8867 A0,0 0 0 0 22.5,271.8867 L401.5,271.8867 A0,0 0 0 0 401.5,271.8867 L401.5,245.0137 L436.33,241.0137 L401.5,237.0137 L401.5,220.0137 L391.5,210.0137 L22.5,210.0137 A0,0 0 0 0 22.5,210.0137 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M391.5,210.0137 L391.5,220.0137 L401.5,220.0137 L391.5,210.0137 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="349" x="28.5" y="229.042">This class can extend GetUserAndContent when not using a</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="358" x="28.5" y="246.333">JOIN operation to get the user with the message contents and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="313" x="28.5" y="263.624">you want to get the entities in separate database calls</text></g><!--entity gateway--><g id="elem_gateway"><rect fill="#F1F1F1" height="48.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="52" y="61.0137"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="124" y="66.0137"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="122" y="68.0137"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="122" y="72.0137"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="67" y="96.1211">gateway</text></g><!--reverse link GatewayService to CommunicationGatewayService--><g id="link_GatewayService_CommunicationGatewayService"><path d="M750.3913,608.9657 C681.9913,632.5257 606.99,658.3637 538.59,681.9237 " fill="none" id="GatewayService-backto-CommunicationGatewayService" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="767.41,603.1037,748.4373,603.2928,752.3453,614.6386,767.41,603.1037" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link GetUserAndContent to EmailUserContentService--><g id="link_GetUserAndContent_EmailUserContentService"><path d="M944.1914,135.0644 C899.7814,153.8444 863.46,169.2037 816.66,188.9937 " fill="none" id="GetUserAndContent-backto-EmailUserContentService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="960.77,128.0537,941.8545,129.5382,946.5283,140.5906,960.77,128.0537" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link UserContentService to EmailUserContentService--><g id="link_UserContentService_EmailUserContentService"><path d="M512.0403,128.3984 C545.4103,148.6384 573.63,165.7737 611.56,188.7837 " fill="none" id="UserContentService-backto-EmailUserContentService" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="496.65,119.0637,508.9288,133.5285,515.1519,123.2683,496.65,119.0637" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link ContentDeliveryService to EmailContentDeliveryService--><g id="link_ContentDeliveryService_EmailContentDeliveryService"><path d="M215,466.3337 C215,492.2337 215,510.1837 215,536.0037 " fill="none" id="ContentDeliveryService-backto-EmailContentDeliveryService" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="215,448.3337,209,466.3337,221,466.3337,215,448.3337" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link EmailContentDeliveryService to CommunicationGatewayService--><g id="link_EmailContentDeliveryService_CommunicationGatewayService"><path codeLine="60" d="M272.0397,606.3868 C309.5197,629.9468 354.81,658.4337 392.24,681.9637 " fill="none" id="EmailContentDeliveryService-backto-CommunicationGatewayService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="266.96,603.1937,272.4509,611.3699,271.1931,605.8546,276.7084,604.5969,266.96,603.1937" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="344" y="648.042">uses</text></g><!--reverse link EmailUserContentService to CommunicationGatewayService--><g id="link_EmailUserContentService_CommunicationGatewayService"><path codeLine="61" d="M598.9383,296.6574 C568.0683,317.6474 540.71,340.9837 518,372.0137 C447.85,467.8637 441.66,616.7437 442.67,681.9937 " fill="none" id="EmailUserContentService-backto-CommunicationGatewayService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="603.9,293.2837,594.2084,295.0364,599.7653,296.0951,598.7066,301.652,603.9,293.2837" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="466" y="502.042">uses</text></g><!--link CommunicationGatewayService to HashHelper--><g id="link_CommunicationGatewayService_HashHelper"><path codeLine="62" d="M444,749.1937 C444,772.7537 444,798.4337 444,821.9637 " fill="none" id="CommunicationGatewayService-to-HashHelper" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="444,827.9637,448,818.9637,444,822.9637,440,818.9637,444,827.9637" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="445" y="794.042">uses</text></g><!--link EmailUserContentService to UserAndContent--><g id="link_EmailUserContentService_UserAndContent"><path codeLine="63" d="M696,293.4737 C696,318.5337 696,342.2737 696,365.8737 " fill="none" id="EmailUserContentService-to-UserAndContent" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="696,371.8737,700,362.8737,696,366.8737,692,362.8737,696,371.8737" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="697" y="338.042">returns</text></g><!--SRC=[hLNDRjim3BxdAOZkagB92nH5W24hslJG3Mts0ApD949joP3aUC7GTvyKIVwLtQ2OBuubyliX6Qd0v1tt15ThaUSbPmbg9ZWyeAOAJrU02fBsZj-0lpCmZzag12UkOL-ldpS-PkwTPAWKFA8wF59MaFHvzhc1LoqPtqDEIXa9DcZkboeXttUPg5vAlaaNlS2ruDfGgkiE4pEBSeS91Usl98_CVDvjVokI2zZwl5KZmSbu8MLCABhdckdJdKyFgojGnDDETUO-v9SKnf9cf0OSeHvDIAssASiwKbYlkWy8zCUyKflZ2LXUP9JRElGDjqlSzVQ_h7Iyu9lI4XFjJJsGjW3VBP6JFaHi57w3yoRiNLReVsb-RzBhTbX0Cv7-PopuepyC8IqoTmsIMvX7MlI9bM5R6fwbjsRbjHT3QkBUSTasCuWRcUCfRkUpApxIs7wh9Yhgod6V8yjYskgDXOkfEOB8uLYq1ZY2sEvNpySerqL-76IDyTdatNGulZXzFoXZHvBZHrB7xb6mrFzJ7LCpHul1-8mrASuyNhjMDqP4JqfiwbaEm6DIkT046UqqYDtOLDLysmDJtbk2t8zKPAAg0t6BR3JOpc0DyFHpympsz7ANcnQsZw0FT5OB5TE7yvU_O89W1SZJ6kGaIgZGqBJIoHwhvaGqBJVbAD0G4AIeyGsLWS4iKpRVohME_LKrSUx3ibokfZfuQoMhIs2M0MXOsKj1349pTRUIneu1cz3joIr8qgNaQcRw_Wy0]--></g></svg>