# Default values for helm.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 1
useAwsKubernetesSecret: true # Set to true for local kubernetes testing, false for EKS - this is managed through IAM roles.
image:
  pullPolicy: Always

temporal:
  cassandra:
    enabled: true
    config:
      cluster_size: 1

  mysql:
    enabled: false

  postgresql:
    enabled: false


  prometheus:
    enabled: true

  grafana:
    image:
      tag: 10.2.3
    enabled: true

  elasticsearch:
    persistence:
      enabled: true
    enabled: true
    replicas: 1

  schema:
    setup:
      enabled: true
    update:
      enabled: true

communication_worker:
  repository: cameronward/communication-worker
  tag: latest
  debug: debug
  springDebug: debug
  sslVerification: false
  temporal:
    taskQueue: communication-worker
    namespace: default

email_gateway:
  repository: cameronward/email-gateway
  tag: latest
  region: eu-west-1
  loggingLevel: DEBUG
  rootLoggingLevel: DEBUG
  profile: ssl
  keyStorePath: /certs/email-gateway.p12

sms_gateway:
  repository: cameronward/sms-gateway
  twilioPollingInterval: 5
  maximumPollingAttempts: 10
  tag: latest
  region: eu-west-1
  profile: ssl
  keyStorePath: /certs/sms-gateway.p12
  loggingLevel: DEBUG

gateway_api:
  repository: cameronward/gateway-api
  tag: latest
  region: eu-west-1
  loggingLevel: DEBUG
  keyStorePath: /certs/gateway-api.p12
  verifyHostnames: false

preferences_api:
  repository: cameronward/preferences-api
  tag: latest
  region: eu-west-1
  loggingLevel: DEBUG
  profile: ssl
  verifyHostnames: false
  clusterNamespace: default
  keyStorePath: /certs/preferences-api.p12

auth_api:
  keyId: "communication-auth-api"
  repository: cameronward/auth-api
  tokenExpiration: 86400
  tag: latest
  region: eu-west-1
  loggingLevel: INFO
  profile: ssl
  keyStorePath: /certs/auth-api.p12

data_converter_api:
  repository: cameronward/data-converter-api
  tag: latest
  loggingLevel: INFO

integration_tests:
  repository: cameronward/cs-integration-tests
  tag: latest
  temporalNamespace: default
  kubernetesNamespace: default
  filterExpression: "@EmailGateway or @GatewayAPI or @PreferencesAPI or @InvalidGateway or @DataConverterAPI"

PreferencesDefaults:
  GatewayTimeoutSeconds: "60"
  RetryPolicy: >-
    { "maximumAttempts": "100", "backoffCoefficient": 2, "initialInterval":
    "PT1S", "maximumInterval": "PT100S", "startToCloseTimeout": "PT10S" }
